<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="assets/faviLogo.png"/>
    <link rel="apple-touch-icon" href="assets/faviLogo.png"/>
    <script src="./common.js"></script>
    <script src="./convertJson.js"></script>
    <link rel="stylesheet" href="./main.css" />
    <title>GMP Data Inspector</title>
  </head>
  <body>
    <!-- <header id="header" class="alt">
      <div>
        <h1>GMP Data Inspector</h1>
        <p>by GMP Tech</p>
      </div>
    </header> -->
    <div class="header">
      <img class="logoImg" src="assets/logo.png">
      <div class="contact">Contact Us</div>
    </div>
    <div class="container">
      <div class="containerHeader">
        <a href="main.html">
          <div class="firebase">
            <img class="firebaseImg" src="assets/firebaseLogo.png">Data Inspector
          </div>
        </a>
        <a href="../../GTMgenerator/Source/main.html">
          <div class="gtm">
            <img class="gtmImg" src="assets/gtmLogo.png">GTM Generator</div>
        </a>
        <div class="line"></div>
      </div>
      <div class="contentContainer">
        <div class="content">
          <div class="inputField">
            <div class="osIconDiv">
              <input class="osInput" id="ios" type="radio" name="os" value="ios" checked>
              <label for="ios" onclick="changeOS('ios');">
                <div class="iosBackground">
                  <i class="iosIcon">plat_ios</i>
                </div>
              </label>
              <input class="osInput" id="aos" type="radio" name="os" value="aos">
              <label for="aos" onclick="changeOS('aos');">
                <div class="aosBackground">
                  <i class="aosIcon">plat_android</i>
                </div>
              </label>
            </div>
            <div id="textAreaField">
              <textarea id="inputBox" class="iosInputBox" placeholder="이벤트 매개변수 데이터 붙여넣기"></textarea>
            </div>
          </div>
          <button class="convertBtn" type="button" disabled onclick="setData();">Convert</button>
          <div>
            <div class="eventListHeader">Fired Events
              <img class="trashImg" src="assets/trash3.png" onclick="clearList();">
            </div>
            <div class="eventList" id="eventList">
            </div>
          </div>
          <div class="tableField">
            <div class="tableDiv">
              <table>
                <thead>
                  <tr>
                    <th colspan="2"">Event Parameters</th>
                    <th class="copyTh">
                      <img class="copyImg" onclick="copyData();">
                    </th>
                  </tr>
                </thead>
                <tbody id="epTbody">
                </tbody>
              </table>
            </div>
            <div class="tableDiv">
              <table>
                <thead>
                  <tr>
                    <th colspan="2" onclick="dropDown(this);">User Properties</th>
                    <th class="copyTh" onclick="dropDown(this);">
                      <img id="upImg">
                    </th>
                  </tr>
                </thead>
                <tbody id="upTbody">
                </tbody>
              </table>
            </div>
            <div class="tableDiv">
              <table>
                <thead>
                  <tr>
                    <th colspan="2" onclick="dropDown(this);">Transaction</th>
                    <th class="copyTh" onclick="dropDown(this);">
                      <img id="transImg">
                    </th>
                  </tr>
                </thead>
                <tbody id="transactionTbody">
                </tbody>
              </table>
            </div>
            <div class="tableDiv">
              <table>
                <thead>
                  <tr>
                    <th colspan="2" onclick="dropDown(this);">Items</th>
                    <th class="copyTh" onclick="dropDown(this);">
                      <img id="itemImg">
                    </th>
                  </tr>
                </thead>
                <tbody id="itemsTbody">
                </tbody>
              </table>
            </div>
            <div class="tableDiv">
              <table>
                <thead>
                  <tr>
                    <th colspan="2" onclick="dropDown(this);">Remain Datas</th>
                    <th class="copyTh" onclick="dropDown(this);">
                      <img id="remainImg">
                    </th>
                  </tr>
                </thead>
                <tbody id="remainTbody" class="remainTbody sum">
                </tbody>
              </table>
            </div>
          </div>
          
        </div>
      </div>
    </div>
    <script>
      const textArea = document.getElementById('inputBox');
      const convertBtn = document.querySelector('.convertBtn');

      textArea.addEventListener('input', ()=> {
        textArea.value == '' ? convertBtn.disabled = true : convertBtn.disabled = false;
      });
    </script>
  </body>
</html>
